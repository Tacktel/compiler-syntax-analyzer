#
# Team 1 :  Leo PAOL & Christophe MEI
#           50181573 & 50181587
#

import sys

translation_table = {
    "INT": "vtype",
    "CHAR": "vtype",
    "INTVAL": "num",
    "CHARVAL": "literal",
    "RETURN": "return",
    "IF": "if",
    "ELSE": "else",
    "WHILE": "while",
    "ID": "id",
    "ASSIGN": "assign",
    "COMP": "comp",
    "TERM": "semi",
    "LSCOPE": "lbrace",
    "RSCOPE": "rbrace",
    "LPAREN": "lparen",
    "RPAREN": "rparen",
    "COMMA": "comma"
}

translated_tokens = []

a = [
        ["", "vtype", "num", "literal", "id", "if", "else", "while", "return", "addsub", "multdiv", "assign", "comp", "semi", "comma", "lparen", "rparen", "lbrace", "rbrace", "$", "CODE", "VDECL", "FDECL", "ARG", "MOREARGS", "BLOCK", "STMT", "RHS", "EXPR", "TERM", "FACTOR", "COND", "RETURN"], 
        [1, "S6", "S60", "S48", "S61", "S26", "", "S40", "S21", "", "", "", "", "", "S17", "S57", "", "", "", "R(1)", "", 3, 4, "", "", "", 24, "", 47, 49, 52, "", ""], 
        [2, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [3, "S6/R(7)", "", "", "R(7)", "R(7)", "", "R(7)", "R(7)", "", "", "", "", "", "", "", "", "", "R(7)", "R(7)", 2, 3, 4, "", "", "", "", "", "", "", "", "", ""], 
        [4, "S6", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 5, 3, 4, "", "", "", "", "", "", "", "", "", ""], 
        [5, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "R(1)", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [6, "", "", "", "S7", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [7, "", "", "", "", "", "", "", "", "", "", "", "", "S8", "S17", "S9", "", "", "", "", "", "", "", "", 16, "", "", "", "", "", "", "", ""], 
        [8, "R(2)", "", "", "R(2)", "R(2)", "", "R(2)", "R(2)", "", "", "", "", "", "", "", "", "", "R(2)", "R(2)", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [9, "S6", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 10, "", "", "", "", "", "", "", "", ""], 
        [10, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S11", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [11, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S12", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [12, "S6", "", "", "S61", "S26", "", "S40", "", "", "", "", "", "", "", "", "", "", "", "", "", 3, "", "", "", 13, 24, "", "", "", "", "", ""], 
        [13, "", "", "", "", "", "", "", "S21", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 14], 
        [14, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S15", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [15, "R(3)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "R(3)", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [16, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "R(4)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [17, "S18", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [18, "", "", "", "S19", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [19, "", "", "", "", "", "", "", "", "", "", "", "", "", "S17", "", "", "", "", "", "", "", "", "", 20, "", "", "", "", "", "", "", ""], 
        [20, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "R(5)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [21, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 22, "", ""], 
        [22, "", "", "", "", "", "", "", "", "", "", "", "", "S23", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [23, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "R(15)", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [24, "S6", "", "", "S61", "S26", "", "S40", "", "", "", "", "", "", "", "", "", "", "", "", "", 3, "", "", "", 25, 24, "", "", "", "", "", ""], 
        [25, "R(6)", "", "", "", "", "", "", "R(6)", "", "", "", "", "", "", "", "", "", "R(6)", "R(6)", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [26, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S27", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [27, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 37, 28, ""], 
        [28, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S29", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [29, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S30", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [30, "S6", "", "", "S61", "S26", "", "S40", "", "", "", "", "", "", "", "", "", "", "", "", "", 3, "", "", "", 31, 24, "", "", "", "", "", ""], 
        [31, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S32", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [32, "", "", "", "", "", "S33", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [33, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S34", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [34, "S6", "", "", "S61", "S26", "", "S40", "", "", "", "", "", "", "", "", "", "", "", "", "", 3, "", "", "", 35, 24, "", "", "", "", "", ""], 
        [35, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S36", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [36, "R(8)", "", "", "R(8)", "R(8)", "", "R(8)", "R(8)", "", "", "", "", "", "", "", "", "", "R(8)", "R(8)", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [37, "", "", "", "", "", "", "", "", "", "", "", "S38", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [38, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 39, "", ""], 
        [39, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "R(14)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [40, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S41", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [41, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 42, ""], 
        [42, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S43", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [43, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S44", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [44, "S6", "", "", "S61", "S26", "", "S40", "", "", "", "", "", "", "", "", "", "", "", "", "", 3, "", "", "", 45, 24, "", "", "", "", "", ""], 
        [45, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S46", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [46, "R(9)", "", "", "R(9)", "R(9)", "", "R(9)", "R(9)", "", "", "", "", "", "", "", "", "", "R(9)", "R(9)", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [47, "", "", "", "", "", "", "", "", "", "", "", "", "R(10)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [48, "", "", "", "", "", "", "", "", "", "", "", "", "R(10)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [49, "", "", "", "", "", "", "", "", "S50", "", "", "", "R(11)", "", "", "R(11)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [50, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", 51, 49, 52, "", ""], 
        [51, "", "", "", "", "", "", "", "", "", "", "", "", "R(11)", "", "", "R(11)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [52, "", "", "", "", "", "", "", "", "R(12)", "S53", "", "S55", "R(12)", "", "", "R(12)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [53, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", "", 54, 52, "", ""], 
        [54, "", "", "", "", "", "", "", "", "R(12)", "", "", "", "R(12)", "", "", "R(12)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [55, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 56, "", ""], 
        [56, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "R(14)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [57, "", "S60", "", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", "", 58, 49, 52, "", ""], 
        [58, "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "S59", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [59, "", "", "", "", "", "", "", "", "R(13)", "R(13)", "", "R(13)", "R(13)", "", "", "R(13)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [60, "", "", "", "", "", "", "", "", "R(13)", "R(13)", "", "R(13)", "R(13)", "", "", "R(13)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [61, "", "", "", "", "", "", "", "", "R(13)", "R(13)", "S62", "R(13)", "R(13)", "", "", "R(13)", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [62, "", "S60", "S48", "S61", "", "", "", "", "", "", "", "", "", "", "S57", "", "", "", "", "", "", "", "", "", "", "", 63, 47, 49, 52, "", ""], 
        [63, "", "", "", "", "", "", "", "", "", "", "", "", "S64", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], 
        [64, "R(7)", "", "", "R(7)", "R(7)", "", "R(7)", "R(7)", "", "", "", "", "", "", "", "", "", "R(7)", "R(7)", "", "", "", "", "", "", "", "", "", "", "", "", ""]
]

def check_args():
    if len(sys.argv) != 2:
        return False
    return True

def fill_tokens():
    try:
        file = open(sys.argv[1], "r")
    except IOError:
        sys.exit("Error while opening file %s" % sys.argv[1])
    if file.mode == "r":
        for line in file:
            try:
                (token_type, token_value) = line.split(':')
                if token_type != "OP":
                    translated_tokens.append(translation_table[token_type])
                elif token_value == "+\n" or token_value == "-\n":
                    translated_tokens.append("addsub")
                elif token_value == "*\n" or token_value == "/\n":
                    translated_tokens.append("multdiv")
            except ValueError:
                continue
    else:
        sys.exit("Error while reading file %s" % sys.argv[1])

def main():
    if check_args() == False:
        sys.exit("USAGE: python3 %s <file_to_analyze>" % sys.argv[0])
    fill_tokens()
    print(translated_tokens)

if __name__ == '__main__':
    main()